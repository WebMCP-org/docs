---
title: 'Vue.js Integration'
description: 'Integrate WebMCP tools with Vue 3. Use the Composition API to create reactive tool registration with automatic cleanup.'
icon: 'vuejs'
---

## Overview

Vue 3's Composition API provides an elegant way to integrate WebMCP tools. This guide shows how to create a reusable composable for tool registration that handles reactivity and cleanup automatically.

<Info>
  **Prerequisites**: Install `@mcp-b/global` per the [Global Package docs](/packages/global). For schema validation, see [Schemas](/concepts/schemas).
</Info>

## Creating a Vue Composable

```typescript "composables/useWebMCP.ts"
import { onMounted, onUnmounted } from 'vue';
import '@mcp-b/global';

interface ToolConfig {
  name: string;
  description: string;
  inputSchema?: Record<string, unknown>;
  handler: (args: Record<string, unknown>) => Promise<unknown>;
}

export function useWebMCP(config: ToolConfig): void {
  let registration: { unregister: () => void } | null = null;

  onMounted(() => {
    if (!('modelContext' in navigator)) return;

    registration = navigator.modelContext.registerTool({
      name: config.name,
      description: config.description,
      inputSchema: config.inputSchema ?? { type: 'object', properties: {} },
      async execute(args) {
        const result = await config.handler(args);
        return {
          content: [{
            type: 'text',
            text: typeof result === 'string' ? result : JSON.stringify(result)
          }]
        };
      }
    });
  });

  onUnmounted(() => {
    registration?.unregister();
  });
}
```

### Using the Composable

```vue "CartTools.vue"
<script setup lang="ts">
import { ref } from 'vue';
import { useWebMCP } from '@/composables/useWebMCP';

const cartItems = ref<string[]>([]);

useWebMCP({
  name: 'add_to_cart',
  description: 'Add a product to the shopping cart',
  inputSchema: {
    type: 'object',
    properties: {
      productId: { type: 'string', description: 'Product ID to add' },
      quantity: { type: 'number', description: 'Quantity to add' }
    },
    required: ['productId']
  },
  handler: async ({ productId, quantity = 1 }) => {
    for (let i = 0; i < quantity; i++) {
      cartItems.value.push(productId as string);
    }
    return { success: true, cartSize: cartItems.value.length };
  }
});

useWebMCP({
  name: 'get_cart',
  description: 'Get current cart contents',
  handler: async () => {
    return { items: cartItems.value, count: cartItems.value.length };
  }
});
</script>

<template>
  <div>
    <p>Cart items: {{ cartItems.length }}</p>
  </div>
</template>
```

## Reactive State Integration

Vue's reactivity system works seamlessly with WebMCP tools:

```vue "ReactiveTools.vue"
<script setup lang="ts">
import { ref, computed } from 'vue';
import { useWebMCP } from '@/composables/useWebMCP';

const count = ref(0);
const doubleCount = computed(() => count.value * 2);

// Tool that reads reactive state
useWebMCP({
  name: 'get_counter',
  description: 'Get the current counter value',
  handler: async () => ({
    count: count.value,
    doubled: doubleCount.value
  })
});

// Tool that modifies reactive state
useWebMCP({
  name: 'increment_counter',
  description: 'Increment the counter',
  inputSchema: {
    type: 'object',
    properties: {
      amount: { type: 'number', description: 'Amount to increment by' }
    }
  },
  handler: async ({ amount = 1 }) => {
    count.value += amount as number;
    return { newValue: count.value };
  }
});
</script>

<template>
  <div>
    <p>Count: {{ count }}</p>
    <p>Double: {{ doubleCount }}</p>
    <button @click="count++">Increment</button>
  </div>
</template>
```

## Working with Pinia Stores

```typescript "stores/cart.ts"
import { defineStore } from 'pinia';

export const useCartStore = defineStore('cart', {
  state: () => ({
    items: [] as { id: string; name: string; quantity: number }[]
  }),
  getters: {
    totalItems: (state) => state.items.reduce((sum, item) => sum + item.quantity, 0),
    cartSummary: (state) => state.items.map(i => `${i.name} x${i.quantity}`).join(', ')
  },
  actions: {
    addItem(id: string, name: string, quantity = 1) {
      const existing = this.items.find(i => i.id === id);
      if (existing) {
        existing.quantity += quantity;
      } else {
        this.items.push({ id, name, quantity });
      }
    }
  }
});
```

```vue "CartTools.vue"
<script setup lang="ts">
import { useCartStore } from '@/stores/cart';
import { useWebMCP } from '@/composables/useWebMCP';

const cart = useCartStore();

useWebMCP({
  name: 'add_to_cart',
  description: 'Add a product to the cart',
  inputSchema: {
    type: 'object',
    properties: {
      productId: { type: 'string' },
      productName: { type: 'string' },
      quantity: { type: 'number' }
    },
    required: ['productId', 'productName']
  },
  handler: async ({ productId, productName, quantity = 1 }) => {
    cart.addItem(productId as string, productName as string, quantity as number);
    return { success: true, totalItems: cart.totalItems };
  }
});
</script>

<template>
  <div>
    <p>Cart: {{ cart.cartSummary || 'Empty' }}</p>
  </div>
</template>
```

## Common Gotchas

<AccordionGroup>
  <Accordion title="Tools not registering in SSR">
    If using SSR (like Nuxt), see the [Nuxt guide](/frameworks/nuxt).
  </Accordion>

  <Accordion title="Stale state in tool handlers">
    Access the ref's `.value` directly in the handler to get current state:

    ```typescript
    handler: async () => ({ count: count.value })
    ```
  </Accordion>

  <Accordion title="Memory leaks from missing cleanup">
    The composable handles cleanup automatically. For manual registration, see [Tool Registration](/concepts/tool-registration).
  </Accordion>
</AccordionGroup>

## Resources

<CardGroup cols={2}>
  <Card title="Vue 3 Docs" icon="vuejs" href="https://vuejs.org/guide/introduction.html">
    Official Vue 3 documentation
  </Card>

  <Card title="Nuxt Integration" icon="n" href="/frameworks/nuxt">
    SSR patterns with Nuxt
  </Card>

  <Card title="Tool Registration" icon="wrench" href="/concepts/tool-registration">
    Full registerTool API
  </Card>

  <Card title="Schemas" icon="brackets-curly" href="/concepts/schemas">
    Input validation
  </Card>
</CardGroup>
